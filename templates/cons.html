<!DOCTYPE html>
{% load static %}
<html lang="zh-hant" class="no-js">
<head>
    <style>
    #welcomeMessage {
      position: fixed;
      top: 20px;
      left: 20px;
      color: black !important;
      padding: 12px 24px;
      font-size: 28px;
      font-weight: 600;
      border-radius: 8px;
      z-index: 9999;
      font-family: "Noto Sans TC", "Microsoft JhengHei", "PingFang TC", sans-serif !important;
      opacity: 1 !important;
      transition: none !important;
      animation: none !important;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    .info-thumb img {
      max-width: 100%;
      height: auto;
    }

    </style>


    {% comment %} <link rel="stylesheet" href="{% static 'css/style.css' %}"> {% endcomment %}
    <script src="{% static 'js/main.js' %}"></script>
    {% comment %} <img src="{% static 'img/logo.png' %}" alt="Logo"> {% endcomment %}
    <!-- Mobile Specific Meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon-->
    <link rel="shortcut icon" href="{% static 'favicon.png' %}">
    <!-- Author Meta -->
    <meta name="author" content="colorlib">
    <!-- Meta Description -->
    <meta name="description" content="">
    <!-- Meta Keyword -->
    <meta name="keywords" content="">
    <!-- meta character set -->
    <meta charset="UTF-8">
    <!-- Site Title -->
    <title>CrushTrip</title>

    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet">
    <!--
    CSS
    ============================================= -->
    <link rel="stylesheet" href="{% static 'css/linearicons.css' %}">
    <link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'css/magnific-popup.css' %}">
    {% comment %} <link rel="stylesheet" href="{% static 'css/animate.min.css' %}"> {% endcomment %}
    <link rel="stylesheet" href="{% static 'css/owl.carousel.css' %}">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
<style>
.contact-form .row {
  align-items: stretch;
}

.contact-form .col-md-6 {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.contact-form textarea {
  height: 100%;
  resize: none;
}
</style>
</head>
<body>
    <div id="welcomeMessage"><h1>{{ message }}</h1></div>

    {% comment %} {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %} {% endcomment %}


    <script>
    window.addEventListener('DOMContentLoaded', () => {
    const welcomeMsg = document.getElementById('welcomeMessage');
    if (welcomeMsg) {
        // 一開始先讓 transition 為 none
        welcomeMsg.style.transition = 'none';
        welcomeMsg.style.opacity = '1';

        // 第 5 秒才改變 transition 來做淡出
        setTimeout(() => {
            welcomeMsg.style.transition = 'opacity 0.5s ease';
            welcomeMsg.style.opacity = '0';
            setTimeout(() => welcomeMsg.remove(), 500);
        }, 5000);
    }
});
    </script>


    <!-- start banner Area -->
    <section class="banner-area" id="home">
        <!-- Start Header Area -->
        <header class="default-header">
            <nav class="navbar navbar-expand-lg  navbar-light fixed-top" 
                style="background-color: #001f3f;">
                <div class="container">
                      <a class="navbar-brand" href="{% url 'index' %}">
                        <img src="{% static 'img/logo.png' %}" alt="CrushTrip Logo" style="height:80px;">
                      </a>
                      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="text-white lnr lnr-menu"></span>
                      </button>

                    <div class="collapse navbar-collapse justify-content-end align-items-center" id="navbarSupportedContent">
                        <ul class="navbar-nav">
                            <li><a href="{% url 'index' %}#about">關於我們</a></li>
                            <li><a href="{% url 'spots' %}">客製行程</a></li>
                            <li><a href="{% url 'index' %}#spot">熱門景點</a></li>
                            {% comment %} <li><a href="{% url 'index' %}#mate">尋找旅伴</a></li> {% endcomment %}
                            <li><a href="{% url 'index' %}#faq">常見問題</a></li>
                            <li><a href="{% url 'index' %}#contact">聯絡我們</a></li>
                            <!-- Dropdown -->
                            
                            <li class="dropdown">
                                <a class="dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                                會員中心
                                </a>
                                <div class="dropdown-menu">
                                <a class="dropdown-item" href="{% url 'update_profile' %}">修改會員資訊</a>
                                <a class="dropdown-item" href="{% url 'cart' %}">我的行程</a>
                                <a class="dropdown-item" href="{% url 'logout' %}">登出</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>
        <!-- End Header Area -->
    </section>


    <section class="default-banner active-blog-slider">
            <div class="item-slider relative" style="background: url({% static 'img/slider1.jpg' %});background-size: cover;">
                <div class="overlay" style="background: rgba(0,0,0,.3)"></div>
                <div class="container">
                    <div class="row fullscreen justify-content-center align-items-center">
                        <div class="col-md-10 col-12">
                            <div class="banner-content text-center">
                                <h4 class="text-white mb-20 text-uppercase">探索日本從這裡開始!打造專屬旅程與緣分的起點</h4>
                                <h1 class="text-uppercase text-white">CrushTrip</h1>
                                <p class="text-white">CrushTrip是一個專為熱愛日本旅遊的你打造的智慧行程規劃平台。無論你是初次造訪還是資深旅人，只需幾個步驟，就能輕鬆規劃出專屬於你的日本之旅，，還能配對志同道合的旅伴，讓旅程更有溫度。
                                </p>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="item-slider relative" style="background: url({% static 'img/slider2.jpg' %});background-size: cover;">
                <div class="overlay" style="background: rgba(0,0,0,.3)"></div>
                <div class="container">
                    <div class="row fullscreen justify-content-center align-items-center">
                        <div class="col-md-10 col-12">
                            <div class="banner-content text-center">
                                <h4 class="text-white mb-20 text-uppercase">探索日本從這裡開始!打造專屬旅程與緣分的起點</h4>
                                <h1 class="text-uppercase text-white">CrushTrip</h1>
                                <p class="text-white">CrushTrip是一個專為熱愛日本旅遊的你打造的智慧行程規劃平台。無論你是初次造訪還是資深旅人，只需幾個步驟，就能輕鬆規劃出專屬於你的日本之旅，，還能配對志同道合的旅伴，讓旅程更有溫度。 </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="item-slider relative" style="background: url({% static 'img/slider3.jpg' %});background-size: cover;">
                <div class="overlay" style="background: rgba(0,0,0,.3)"></div>
                <div class="container">
                    <div class="row fullscreen justify-content-center align-items-center">
                        <div class="col-md-10 col-12">
                            <div class="banner-content text-center">
                                <h4 class="text-white mb-20 text-uppercase">探索日本從這裡開始!打造專屬旅程與緣分的起點</h4>
                                <h1 class="text-uppercase text-white">CrushTrip</h1>
                                <p class="text-white">CrushTrip是一個專為熱愛日本旅遊的你打造的智慧行程規劃平台。無論你是初次造訪還是資深旅人，只需幾個步驟，就能輕鬆規劃出專屬於你的日本之旅，，還能配對志同道合的旅伴，讓旅程更有溫度。 </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    <!-- Start letgo Area -->
     {% regroup data_list by parent_title as grouped_data %}
    <section class="section-gap info-area" id="letgo">
        <div class="container">
            <div class="row d-flex justify-content-center">
                <div class="menu-content pb-40 col-lg-8">
                    <div class="title text-center">
                        <h1 class="mb-10">{{ parent_title }}</h1>
                    </div>
                </div>
            </div>
            <div class="single-info row mt-40">
                <div class="col-lg-6 col-md-12 mt-120 text-center no-padding info-left">
                    <div class="info-thumb">
                      {% for item in data_list %}
                        {% if forloop.first %}
                          <img src={{ item.img }} class="img-fluid" alt="">
                        {% endif %}
                      {% endfor %}
                    </div>
                </div>
                <div class="col-lg-6 col-md-12 no-padding info-rigth">
                    <div class="info-content">
                        {% for item in data_list %}
                          <div class="card">
                            <h3>{{ item.heading }}</h3> 
                            <p>{{ item.text }}</p>         
                              <div class="card-images">                   
                                {% if item.image_url %}
                                  {% for url in item.image_urls %}
                                    <img style="width: 292px; height: 196px;" src="{{ url }}" alt="圖片">
                                  {% endfor %}
                                {% endif %}
                              </div>
                            {% empty %}
                              <p>暫無資料</p>
                            {% endfor %}
                          </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Start logo Area -->
    <section class="logo-area">
        <div class="container">
            <div class="row">

            </div>
        </div>
    </section>
    <!-- End logo Area -->


    <!-- start contact Area -->
    <section class="contact-area section-gap" id="contact">
  <div class="container">
    <div class="row d-flex justify-content-center">
      <div class="menu-content pb-60 col-lg-8">
        <div class="title text-center">
          <h1 class="mb-10">If you need, Just drop us a line</h1>
          <p>Who are in extremely love with eco friendly system.</p>
        </div>
      </div>
    </div>

    <form class="contact-form mx-auto" id="contactForm" method="post" style="max-width: 800px;">
      {% csrf_token %}
      <div class="row">
        <!-- 左欄 -->
        <div class="col-md-6 d-flex flex-column justify-content-between">
          <div class="form-group mb-3">
            <input name="name" type="text" class="form-control" placeholder="Enter your name" required>
          </div>
          <div class="form-group mb-3">
            <input name="email" type="email" class="form-control" placeholder="Enter email address" required>
          </div>
          <div class="form-group mb-3">
            <input name="subject" type="text" class="form-control" placeholder="Enter your subject" required>
          </div>
        </div>

        <!-- 右欄 -->
        <div class="col-md-6 d-flex flex-column justify-content-between">
          <div class="form-group mb-3 flex-grow-1 d-flex flex-column" style="flex: 1;">
            <textarea name="message" class="form-control flex-grow-1" placeholder="Message" required></textarea>
          </div>
          <div>
            <button class="primary-btn btn-block mt-2" type="submit">
              SEND MESSAGE <span class="lnr lnr-arrow-right"></span>
            </button>
            <div class="alert-msg mt-2" id="formStatus"></div>
          </div>
        </div>
      </div>
    </form>
  </div>
</section>

    <!-- end contact Area -->

    <!-- start footer Area -->
    <footer class="footer-area section-gap">
        <div class="container">
            <div class="row">
                <div class="col-lg-5 col-md-6 col-sm-6">
                    <div class="single-footer-widget">
                        <h6>重新定義旅遊的方式</h6>
                        <p>我們相信旅程不只是抵達目的地，而是在途中遇見共鳴的靈魂、激發新的視野。透過個人化的旅伴推薦機制與深入的偏好設定，CrushTrip 讓每一次的出發都蘊含探索與連結的可能。我們致力打造一個兼具效率與情感溫度的旅遊體驗，讓每個使用者都能在旅程中找到與自己節奏契合的夥伴與回憶。加入我們，開啟屬於你的 CrushTrip 冒險。                        </p>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        <p class="footer-text">Crushtrip &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i>Crushtrip</p>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    </div>
                </div>
                <div class="col-lg-5  col-md-6 col-sm-6">
                    <div class="single-footer-widget">
                        <h6>Newsletter</h6>
                        <p>Stay update with our latest</p>
                        <div class="" id="mc_embed_signup">

                                <form target="_blank" novalidate="true" action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01" method="get" class="form-inline">

                                <div class="d-flex flex-row">

                                    <input class="form-control" name="EMAIL" placeholder="Enter Email" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter Email '" required="" type="email">


                                        <button class="click-btn btn btn-default"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></button>
                                        <div style="position: absolute; left: -5000px;">
                                            <input name="b_36c4fd991d266f23781ded980_aefe40901a" tabindex="-1" value="" type="text">
                                        </div>

                                    <!-- <div class="col-lg-4 col-md-4">
                                        <button class="bb-btn btn"><span class="lnr lnr-arrow-right"></span></button>
                                    </div>  -->
                                </div>
                                <div class="info"></div>
                                </form>
                        </div>
                        </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- End footer Area -->

    <script src="{% static 'js/vendor/jquery-2.2.4.min.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="{% static 'js/vendor/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/jquery.ajaxchimp.min.js' %}"></script>
    <script src="{% static 'js/jquery.magnific-popup.min.js' %}"></script>
    <script src="{% static 'js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'js/jquery.sticky.js' %}"></script>
    <script src="{% static 'js/slick.js' %}"></script>
    <script src="{% static 'js/jquery.counterup.min.js' %}"></script>
    <script src="{% static 'js/waypoints.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
<style>
/* 讓所有 placeholder 立即可見，無動畫、無滑入效果 */
input::placeholder,
textarea::placeholder {
  opacity: 1 !important;
  color: #666 !important;
  transition: none !important;
  animation: none !important;
}

/* 移除可能被主題套件套用的滑入時樣式 */
input:focus::placeholder,
textarea:focus::placeholder {
  opacity: 1 !important;
  color: #666 !important;
}

/* 修正 placeholder 被覆蓋、透明、滑入動畫的情況 */
input.form-control,
textarea.form-control {
  background-color: #fff !important;
  color: #000 !important;
  border: 1px solid #ccc !important;
  box-shadow: none !important;
  transition: none !important;
  animation: none !important;
}

/* 有些主題會把 placeholder 初始設成透明動畫，這裡清除 */
input.form-control:-webkit-autofill::first-line,
textarea.form-control:-webkit-autofill::first-line {
  color: #000 !important;
}

</style>
<script>
document.addEventListener('DOMContentLoaded', function () {
  const form = document.getElementById('contactForm');
  form.addEventListener('submit', function (e) {
    e.preventDefault(); // 阻止表單預設送出

    const formData = new FormData(form);
    const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;

    fetch("{% url 'send_message' %}", {
      method: "POST",
      headers: {
        "X-CSRFToken": csrfToken
      },
      body: formData
    })
    .then(response => response.json())
    .then(data => {
      const statusDiv = document.getElementById('formStatus');

      if (data.success) {
        statusDiv.innerHTML = "<div class='alert alert-success'>訊息已成功送出！</div>";
        form.reset();
      } else {
        statusDiv.innerHTML = `<div class='alert alert-danger'>${data.error || '送出失敗，請稍後再試。'}</div>`;
      }

      // 3 秒後淡出訊息
      setTimeout(() => {
        statusDiv.innerHTML = "";
      }, 3000);
    })
    .catch(() => {
      const statusDiv = document.getElementById('formStatus');
      statusDiv.innerHTML = "<div class='alert alert-danger'>系統錯誤，請稍後再試。</div>";
      setTimeout(() => {
        statusDiv.innerHTML = "";
      }, 3000);
    });
  });
});
</script>


</body>
</html>
